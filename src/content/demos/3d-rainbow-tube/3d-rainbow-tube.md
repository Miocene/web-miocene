---
# layout: ./3d-rainbow-tube.astro
pubDate: 2024-07-14
title: 3D Rainbow Tube
cover: ./3d-rainbow-tube.png
youtubeLink: https://www.youtube.com/watch?v=JGKFXgMW_e4
codepenLink: https://codepen.io/miocene/pen/poXJOpo
caption: ''
tags: ['3D', 'Demo']
---

<div class="tube">
  <div class="tube__face" style="--i: 0"></div>
  <div class="tube__face" style="--i: 1"></div>
  <div class="tube__face" style="--i: 2"></div>
  <div class="tube__face" style="--i: 3"></div>
  <div class="tube__face" style="--i: 4"></div>
  <div class="tube__face" style="--i: 5"></div>
  <div class="tube__face" style="--i: 6"></div>
  <div class="tube__face" style="--i: 7"></div>
  <div class="tube__face" style="--i: 8"></div>
  <div class="tube__face" style="--i: 9"></div>
  <div class="tube__face" style="--i: 10"></div>
  <div class="tube__face" style="--i: 11"></div>
  <div class="tube__face" style="--i: 12"></div>
  <div class="tube__face" style="--i: 13"></div>
  <div class="tube__face" style="--i: 14"></div>
  <div class="tube__face" style="--i: 15"></div>
  <div class="tube__face" style="--i: 16"></div>
  <div class="tube__face" style="--i: 17"></div>
  <div class="tube__face" style="--i: 18"></div>
  <div class="tube__face" style="--i: 19"></div>
  <div class="tube__face" style="--i: 20"></div>
  <div class="tube__face" style="--i: 21"></div>
  <div class="tube__face" style="--i: 22"></div>
  <div class="tube__face" style="--i: 23"></div>
  <div class="tube__face" style="--i: 24"></div>
  <div class="tube__face" style="--i: 25"></div>
  <div class="tube__face" style="--i: 26"></div>
  <div class="tube__face" style="--i: 27"></div>
  <div class="tube__face" style="--i: 28"></div>
  <div class="tube__face" style="--i: 29"></div>
  <div class="tube__face" style="--i: 30"></div>
  <div class="tube__face" style="--i: 31"></div>
  <div class="tube__face" style="--i: 32"></div>
  <div class="tube__face" style="--i: 33"></div>
  <div class="tube__face" style="--i: 34"></div>
  <div class="tube__face" style="--i: 35"></div>
  <div class="tube__face" style="--i: 36"></div>
  <div class="tube__face" style="--i: 37"></div>
  <div class="tube__face" style="--i: 38"></div>
  <div class="tube__face" style="--i: 39"></div>
  <div class="tube__face" style="--i: 40"></div>
  <div class="tube__face" style="--i: 41"></div>
  <div class="tube__face" style="--i: 42"></div>
  <div class="tube__face" style="--i: 43"></div>
  <div class="tube__face" style="--i: 44"></div>
  <div class="tube__face" style="--i: 45"></div>
  <div class="tube__face" style="--i: 46"></div>
  <div class="tube__face" style="--i: 47"></div>
  <div class="tube__face" style="--i: 48"></div>
  <div class="tube__face" style="--i: 49"></div>
  <div class="tube__face" style="--i: 50"></div>
  <div class="tube__face" style="--i: 51"></div>
  <div class="tube__face" style="--i: 52"></div>
  <div class="tube__face" style="--i: 53"></div>
  <div class="tube__face" style="--i: 54"></div>
  <div class="tube__face" style="--i: 55"></div>
  <div class="tube__face" style="--i: 56"></div>
  <div class="tube__face" style="--i: 57"></div>
  <div class="tube__face" style="--i: 58"></div>
  <div class="tube__face" style="--i: 59"></div>
  <div class="tube__face" style="--i: 60"></div>
  <div class="tube__face" style="--i: 61"></div>
  <div class="tube__face" style="--i: 62"></div>
  <div class="tube__face" style="--i: 63"></div>
  <div class="tube__face" style="--i: 64"></div>
  <div class="tube__face" style="--i: 65"></div>
  <div class="tube__face" style="--i: 66"></div>
  <div class="tube__face" style="--i: 67"></div>
  <div class="tube__face" style="--i: 68"></div>
  <div class="tube__face" style="--i: 69"></div>
  <div class="tube__face" style="--i: 70"></div>
  <div class="tube__face" style="--i: 71"></div>
  <div class="tube__face" style="--i: 72"></div>
  <div class="tube__face" style="--i: 73"></div>
  <div class="tube__face" style="--i: 74"></div>
  <div class="tube__face" style="--i: 75"></div>
  <div class="tube__face" style="--i: 76"></div>
  <div class="tube__face" style="--i: 77"></div>
  <div class="tube__face" style="--i: 78"></div>
  <div class="tube__face" style="--i: 79"></div>
  <div class="tube__face" style="--i: 80"></div>
  <div class="tube__face" style="--i: 81"></div>
  <div class="tube__face" style="--i: 82"></div>
  <div class="tube__face" style="--i: 83"></div>
  <div class="tube__face" style="--i: 84"></div>
  <div class="tube__face" style="--i: 85"></div>
  <div class="tube__face" style="--i: 86"></div>
  <div class="tube__face" style="--i: 87"></div>
  <div class="tube__face" style="--i: 88"></div>
  <div class="tube__face" style="--i: 89"></div>
  <div class="tube__face" style="--i: 90"></div>
  <div class="tube__face" style="--i: 91"></div>
  <div class="tube__face" style="--i: 92"></div>
  <div class="tube__face" style="--i: 93"></div>
  <div class="tube__face" style="--i: 94"></div>
  <div class="tube__face" style="--i: 95"></div>
  <div class="tube__face" style="--i: 96"></div>
  <div class="tube__face" style="--i: 97"></div>
  <div class="tube__face" style="--i: 98"></div>
  <div class="tube__face" style="--i: 99"></div>
  <div class="tube__face" style="--i: 100"></div>
</div>

<style>
  .demo {
    background-color: #fff;
  }

  .tube {
    position: absolute;
    top: 50%; left: 50%;
    height: 300px;
    transform-style: preserve-3d;
    translate: -50% -50%;
    transform: rotatex(-60deg) rotatez(-30deg);

    --radius: 100px;
    --n: 100;
    --length: calc(var(--radius) * 2 * tan(180deg / var(--n)));
    --angle: calc(360deg / var(--n));

    animation: tube 5s linear infinite;
  }

  @keyframes tube {
    to { transform: rotatex(-60deg) rotatez(330deg) rotatey(360deg); }
  }

  .tube__face {
    position: absolute;
    height: 100%; width: var(--length);
    background-color: #E2AFFF;
    filter: hue-rotate(calc(var(--angle) * var(--i)));
    transform: translateX(-50%) rotateY(calc(var(--angle) * var(--i))) translateZ(var(--radius));
  }
</style>